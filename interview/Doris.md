<center><font size='60'>Doris</font></center>

## 1.Doris整体架构

### 1.1 Doris架构介绍

#### 1.1.1 整体架构

​		Doris架构非常简单，只有两类进程

- Frontend（FE）

  主要负责用户请求的接入、查询解析规划、元数据的管理、节点管理相关工作

- Backend（BE）

  主要负责数据存储、查询计划的执行。

  ![Image description](../image/interview/doris/整体架构.png)

  这两个进程都是可以横向扩展的，单集群可以支持到数百台机器，数十PB的存储容量。并且这两类进程通过一致性协议来保证服务的高可用和数据的高可靠。

#### 1.1.2 Doris定位

​		Doris的定位是Online层面的数据服务，主要是数据分析。

​		Doris目标：实现低成本（主要针对商业产品），可**线性扩展**，支持云化部署，**高可用**、**高查询**、高加载性能。

### 1.2 MPP架构

#### 1.2.1 并行硬件架构的发展

​		为了提高计算机系统的处理能力，在处理单元（CPU）性能确定的情况下，就需要增加处理单元的数量，此时从计算单元（CPU）对资源（特别是内存）访问的角度来看，并行硬件架构分为三种：

- SMP（Symmetric Multi Processing，对称多处理器）架构。

  这里的“对称”是指所有处理器之间是平等的，并且共享包括物理内存在内的所有资源，处理器访问不同资源的能力（速度）是一致的，每个处理器访问内存中的任何地址所需的时间是相同的，因此SMP架构也称为UMA（Uniform Memory Access，一致存储器访问）架构。

- NUMA（Non-Uniform Memory Access，非一致存储访问）架构。

  NUMA架构服务器内部有多个处理模块（节点），每个模块有多个CPU核本地内存，但每个CPU页可以访问整个系统内存，当然访问本地内存要比访问其他模块内存的速度快，这也是非一致存储访问架构名称的由来。

- MPP（Massively Parallel Processing，大规模并行处理）架构

  MPP架构是将多个处理节点通过网络连接起来，每个节点是一台独立的机器，节点内的处理单元独占自己的资源，包括内存、硬盘、IO等，也就是每个节点内的CPU不能访问另一个节点的内存（这是MPP与NUMA的主要区别），MPP架构服务器需要通过软件实现复杂的调度机制以及并行处理过程。

  ![img](../image/interview/doris/并行硬件架构.jpg)













​		

## 2.
